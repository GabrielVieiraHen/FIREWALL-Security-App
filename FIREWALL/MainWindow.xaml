<Window x:Class="FIREWALL.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:FIREWALL"
        mc:Ignorable="d"
        Title="FIREWALL Security" Height="500" Width="850"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent" WindowStartupLocation="CenterScreen"
        FontFamily="Segoe UI">

    <Window.Resources>
        <!-- Estilos dos Botões (sem alterações) -->
        <Style x:Key="WindowControlButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="30"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontFamily" Value="Segoe MDL2 Assets"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#44FFFFFF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ModernActionButton" TargetType="Button">
            <Setter Property="Background" Value="#15FFFFFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#40FFFFFF"/>
            <Setter Property="BorderThickness" Value="1.5"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="25,14"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="16" RenderTransformOrigin="0.5,0.5">
                            <Border.Effect>
                                <DropShadowEffect BlurRadius="15" ShadowDepth="0" Color="#000000" Opacity="0.2"/>
                            </Border.Effect>
                            <Border.RenderTransform>
                                <ScaleTransform x:Name="buttonScale" ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#25FFFFFF"/>
                                <Setter Property="BorderBrush" Value="#60FFFFFF"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="buttonScale" Storyboard.TargetProperty="ScaleX" To="1.02" Duration="0:0:0.1"/>
                                            <DoubleAnimation Storyboard.TargetName="buttonScale" Storyboard.TargetProperty="ScaleY" To="1.02" Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="buttonScale" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.1"/>
                                            <DoubleAnimation Storyboard.TargetName="buttonScale" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#10FFFFFF"/>
                                <Setter Property="BorderBrush" Value="#30FFFFFF"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="buttonScale" Storyboard.TargetProperty="ScaleX" To="0.98" Duration="0:0:0.05"/>
                                            <DoubleAnimation Storyboard.TargetName="buttonScale" Storyboard.TargetProperty="ScaleY" To="0.98" Duration="0:0:0.05"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ButtonIcon" TargetType="Path">
            <Setter Property="Width" Value="18"/>
            <Setter Property="Height" Value="18"/>
            <Setter Property="Stretch" Value="Uniform"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsMouseOver, RelativeSource={RelativeSource AncestorType=Button}}" Value="True">
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <ScaleTransform ScaleX="1.1" ScaleY="1.1"/>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Border CornerRadius="20" MouseDown="Border_MouseDown">
        <Border.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#434343" Offset="0.0" />
                <GradientStop Color="#000000" Offset="1.0" />
            </LinearGradientBrush>
        </Border.Background>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="220"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- CABEÇALHO -->
            <StackPanel Grid.ColumnSpan="2" Orientation="Horizontal" VerticalAlignment="Center">
                <StackPanel Orientation="Horizontal" Margin="20,0,0,0">
                    <Path Data="M10,0 L20,5 L20,15 L10,20 L0,15 L0,5 z M0,5 L10,10 L20,5 M10,10 L10,20" Stroke="White" StrokeThickness="1.5" Width="20" Height="20" Stretch="Uniform" VerticalAlignment="Center"/>
                    <TextBlock Text="SECURITY" FontSize="22" FontWeight="Bold" Foreground="White" VerticalAlignment="Center" Margin="10,0,0,0" Opacity="0.8"/>
                </StackPanel>
            </StackPanel>

            <!-- Botões da Janela -->
            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="&#xE921;" Style="{StaticResource WindowControlButton}" Click="MinimizeWindow_Click"/>
                <Button x:Name="MaximizeButton" Content="&#xE922;" Style="{StaticResource WindowControlButton}" Click="MaximizeRestoreWindow_Click"/>
                <Button Content="&#xE8BB;" Style="{StaticResource WindowControlButton}" Click="CloseWindow_Click"/>
            </StackPanel>

            <!-- MENU LATERAL -->
            <StackPanel Grid.Row="1" VerticalAlignment="Bottom" Margin="20">
                <Button Style="{StaticResource ModernActionButton}" Margin="0,0,0,15" Click="StartScanButton_Click">
                    <StackPanel Orientation="Horizontal">
                        <Path Style="{StaticResource ButtonIcon}" Fill="White" Data="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
                        <TextBlock Text="Start Scan" VerticalAlignment="Center" Margin="12,0,0,0" FontSize="15" FontWeight="SemiBold" Opacity="0.9"/>
                    </StackPanel>
                </Button>
                <Button Style="{StaticResource ModernActionButton}" Click="GithubButton_Click">
                    <StackPanel Orientation="Horizontal">
                        <Path Style="{StaticResource ButtonIcon}" Fill="White" Data="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21V19.21C6.73,19.64 6.13,17.91 6.13,17.91C5.69,16.8 5.23,16.54 5.23,16.54C4.33,15.93 5.3,16 5.3,16C6.29,16.07 6.73,16.98 6.73,16.98C7.62,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.62,8.77C6.5,8.5 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.5,8.5 17.38,8.77C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.83,16.41C14.17,16.72 14.5,17.33 14.5,18.26V21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z" />
                        <TextBlock Text="My GitHub" VerticalAlignment="Center" Margin="12,0,0,0" FontSize="15" FontWeight="SemiBold" Opacity="0.9"/>
                    </StackPanel>
                </Button>
            </StackPanel>

            <!-- CONTEÚDO PRINCIPAL (Círculo de Progresso à esquerda, Logs à direita) -->
            <Grid Grid.Row="1" Grid.Column="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Viewbox Grid.Column="0" Width="380" Height="380">
                    <Grid Width="400" Height="400">
                        <Ellipse Stroke="#22FFFFFF" StrokeThickness="15" />
                        <Path x:Name="ProgressRingPath" StrokeThickness="15" StrokeStartLineCap="Round" StrokeEndLineCap="Round">
                            <Path.Stroke>
                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                    <GradientStop Color="#84FAB0" Offset="0" />
                                    <GradientStop Color="#8FD3F4" Offset="1" />
                                </LinearGradientBrush>
                            </Path.Stroke>
                        </Path>
                        <Border Background="#11FFFFFF" CornerRadius="1000">
                            <Border.Effect>
                                <DropShadowEffect Color="#000000" Direction="270" ShadowDepth="0" BlurRadius="40" Opacity="0.3"/>
                            </Border.Effect>
                        </Border>
                        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                            <TextBlock x:Name="PercentageText" Text="0%" Foreground="White" FontSize="60" FontWeight="Light" HorizontalAlignment="Center" Opacity="0.9"/>
                            <TextBlock x:Name="StatusText" Text="Ready to scan" Foreground="#CFD8DC" FontSize="18" FontWeight="Normal" HorizontalAlignment="Center" Margin="0,10,0,0" Opacity="0.6"/>
                        </StackPanel>
                    </Grid>
                </Viewbox>

                <!-- NOVA ÁREA DE LOGS EM TEMPO REAL -->
                <Border Grid.Column="1" Background="#11FFFFFF" CornerRadius="10" Margin="20,0,20,20" Padding="5">
                    <Grid>
                        <TextBlock Text="Atividade em Tempo Real" Foreground="#88FFFFFF" FontSize="12" Margin="10,5,0,0" VerticalAlignment="Top"/>
                        <ListView x:Name="LogListView" Background="Transparent" BorderThickness="0" Foreground="#DDFFFFFF"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled" Margin="0,25,0,0">
                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="Focusable" Value="False"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="ListViewItem">
                                                <ContentPresenter/>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListView.ItemContainerStyle>
                        </ListView>
                    </Grid>
                </Border>

            </Grid>
        </Grid>
    </Border>
</Window>